# TV SnapMaster 手动测试清单

**版本**: 1.0.0
**日期**: 2025-12-18

## 测试环境准备

### 前置条件

- [ ] Chrome 浏览器 v88+
- [ ] 开发者模式已启用
- [ ] 插件已加载（`chrome://extensions/` → 加载已解压的扩展程序 → 选择 `src/` 目录）
- [ ] TradingView 账号（可选，用于完整功能测试）

### 测试页面

- TradingView 图表页面: `https://www.tradingview.com/chart/`

---

## 用户故事 1: 一键图表截图 (P1)

### 场景 1.1: 基本截图功能

**前置条件**: 在 TradingView 图表页面，显示任意品种

| 步骤 | 操作 | 预期结果 | 通过 |
|------|------|----------|------|
| 1 | 点击插件图标打开弹窗 | 弹窗显示，5个周期按钮可见 | [ ] |
| 2 | 点击 "4h" 按钮 | 按钮显示加载状态 | [ ] |
| 3 | 等待截图完成 | 状态显示"截图完成！" | [ ] |
| 4 | 检查下载文件夹 | 存在格式为 `{品种}_4h_{时间戳}.png` 的文件 | [ ] |
| 5 | 打开截图文件 | 图片显示完整图表，周期为 4h | [ ] |

### 场景 1.2: 同周期跳过切换

**前置条件**: 图表已显示 1D 周期

| 步骤 | 操作 | 预期结果 | 通过 |
|------|------|----------|------|
| 1 | 手动将图表设置为 1D 周期 | 图表显示日线 | [ ] |
| 2 | 打开插件弹窗 | 1D 按钮可能高亮（可选） | [ ] |
| 3 | 点击 "1D" 按钮 | 截图直接开始，无需切换周期 | [ ] |
| 4 | 验证截图时间 | 比切换周期的截图更快完成 | [ ] |

### 场景 1.3: 文件名格式验证

**测试不同品种的文件名生成**

| 品种 | 周期 | 预期文件名格式 | 通过 |
|------|------|----------------|------|
| BTCUSDT | 4h | `BTCUSDT_4h_YYYYMMDD_HHmmss.png` | [ ] |
| AAPL | 1D | `AAPL_1D_YYYYMMDD_HHmmss.png` | [ ] |
| BTC/USDT (带斜杠) | 15m | `BTC_USDT_15m_YYYYMMDD_HHmmss.png` | [ ] |
| NASDAQ:TSLA (带交易所) | 1h | `TSLA_1h_YYYYMMDD_HHmmss.png` | [ ] |

---

## 用户故事 2: 快速多周期分析 (P2)

### 场景 2.1: 连续截图多个周期

**前置条件**: 在 TradingView 图表页面

| 步骤 | 操作 | 预期结果 | 通过 |
|------|------|----------|------|
| 1 | 点击 "15m" 按钮，等待完成 | 截图 1 完成 | [ ] |
| 2 | 点击 "1h" 按钮，等待完成 | 截图 2 完成 | [ ] |
| 3 | 点击 "4h" 按钮，等待完成 | 截图 3 完成 | [ ] |
| 4 | 检查下载文件夹 | 3 个文件，周期分别为 15m/1h/4h | [ ] |

### 场景 2.2: 忙碌状态反馈

**前置条件**: 在 TradingView 图表页面

| 步骤 | 操作 | 预期结果 | 通过 |
|------|------|----------|------|
| 1 | 点击 "4h" 按钮 | 按钮显示加载动画 | [ ] |
| 2 | 立即点击其他按钮 | 其他按钮被禁用，无响应 | [ ] |
| 3 | 等待截图完成 | 所有按钮恢复可点击 | [ ] |

---

## 用户故事 3: 深色模式适配 (P3)

### 场景 3.1: 深色主题

**前置条件**: TradingView 设置为深色模式

| 步骤 | 操作 | 预期结果 | 通过 |
|------|------|----------|------|
| 1 | 在 TradingView 设置中选择深色主题 | 图表背景变深色 | [ ] |
| 2 | 打开插件弹窗 | 弹窗背景为深色 (#131722) | [ ] |
| 3 | 检查按钮颜色 | 按钮为深灰色，文字为浅色 | [ ] |

### 场景 3.2: 浅色主题

**前置条件**: TradingView 设置为浅色模式

| 步骤 | 操作 | 预期结果 | 通过 |
|------|------|----------|------|
| 1 | 在 TradingView 设置中选择浅色主题 | 图表背景变浅色 | [ ] |
| 2 | 打开插件弹窗 | 弹窗背景为浅色 (#ffffff) | [ ] |
| 3 | 检查按钮颜色 | 按钮为浅灰色，文字为深色 | [ ] |

---

## 边缘情况测试

### 场景 E1: 非 TradingView 页面

| 步骤 | 操作 | 预期结果 | 通过 |
|------|------|----------|------|
| 1 | 在 Google 首页打开插件 | 弹窗显示 | [ ] |
| 2 | 检查状态 | 显示错误提示"请在 TradingView 图表页面使用此插件" | [ ] |
| 3 | 按钮状态 | 所有按钮被禁用 | [ ] |

### 场景 E2: 图表加载超时

**前置条件**: 使用 Chrome DevTools 网络节流（Slow 3G）

| 步骤 | 操作 | 预期结果 | 通过 |
|------|------|----------|------|
| 1 | 启用网络节流 | DevTools → Network → Slow 3G | [ ] |
| 2 | 点击周期按钮 | 状态显示"等待图表加载..." | [ ] |
| 3 | 等待 10 秒 | 继续截图或显示超时提示 | [ ] |

### 场景 E3: 品种检测失败

**前置条件**: 在特殊布局的 TradingView 页面

| 步骤 | 操作 | 预期结果 | 通过 |
|------|------|----------|------|
| 1 | 如果品种无法检测 | 文件名使用 "unknown" 作为品种 | [ ] |
| 2 | 截图仍然完成 | 文件正常下载 | [ ] |

---

## 弹窗对话框处理

### 场景 D1: 自动关闭干扰弹窗

| 弹窗类型 | 触发方式 | 预期行为 | 通过 |
|----------|----------|----------|------|
| "未保存更改" | 修改图表后切换周期 | 自动关闭，继续截图 | [ ] |
| Cookie 同意 | 清除 cookies 后访问 | 自动接受或关闭 | [ ] |
| 升级 Pro 广告 | 等待广告出现 | 自动关闭 | [ ] |

---

## 性能测试

### 场景 P1: 响应时间

| 操作 | 目标时间 | 实际时间 | 通过 |
|------|----------|----------|------|
| 弹窗打开 | < 500ms | ____ ms | [ ] |
| 同周期截图完成 | < 5s | ____ s | [ ] |
| 切换周期截图完成 | < 15s | ____ s | [ ] |

---

## 测试结果汇总

| 分类 | 总数 | 通过 | 失败 | 通过率 |
|------|------|------|------|--------|
| US1 基本截图 | 5 | | | |
| US2 多周期 | 4 | | | |
| US3 主题 | 3 | | | |
| 边缘情况 | 4 | | | |
| 弹窗处理 | 3 | | | |
| 性能 | 3 | | | |
| **总计** | **22** | | | |

---

## 问题记录

| 编号 | 描述 | 严重程度 | 状态 |
|------|------|----------|------|
| | | | |

---

**测试员**: ________________
**测试日期**: ________________
**测试结论**: [ ] 通过 / [ ] 有问题需修复
